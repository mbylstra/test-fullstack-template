.DEFAULT_GOAL := help
.PHONY: help dev install typecheck prettier storybook api-generate

help:
	@echo "Web Frontend Commands:"
	@echo "  make dev          - Start Vite dev server"
	@echo "  make install      - Install dependencies"
	@echo "  make typecheck    - Run TypeScript type checking"
	@echo "  make prettier     - Format code with prettier"
	@echo "  make storybook    - Start Storybook dev server"
	@echo ""
	@echo "Code Generation Commands:"
	@echo "  make api-generate - Generate TypeScript client from OpenAPI spec"

dev:
	pnpm vite

install:
	pnpm install

typecheck:
	pnpm tsc -b --noEmit

prettier:
	pnpm prettier --write .

storybook:
	pnpm storybook

api-generate:
	@echo "Generating TypeScript client for frontend..."
	@npx @hey-api/openapi-ts -i ../api-design/autogenerated/openapi.yaml -o src/lib/api-client
	@echo "âœ“ Frontend TypeScript client generated!"
